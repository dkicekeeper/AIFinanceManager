# ‚úÖ FIX: –°—á—ë—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—ã–±–æ—Ä–∞

**–î–∞—Ç–∞**: 2026-02-09
**–°—Ç–∞—Ç—É—Å**: ‚úÖ FIXED

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞:

–í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –±—ã–ª–∞ –æ–ø—Ü–∏—è "–ë–µ–∑ —Å—á—ë—Ç–∞", —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–ª–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—á—ë—Ç—É.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:**
- –°—á—ë—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º** –¥–ª—è –≤—ã–±–æ—Ä–∞
- –£–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é "–ë–µ–∑ —Å—á—ë—Ç–∞"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π —Å—á—ë—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## üîß –†–µ—à–µ–Ω–∏–µ:

### –§–∞–π–ª: `SubscriptionEditView.swift`

#### 1. –£–¥–∞–ª–µ–Ω–∞ –æ–ø—Ü–∏—è "–ë–µ–∑ —Å—á—ë—Ç–∞"

**–î–æ:**
```swift
Picker("–°—á—ë—Ç", selection: $selectedAccountId) {
    Text("–ë–µ–∑ —Å—á—ë—Ç–∞").tag(nil as String?)  // ‚ùå –ü–æ–∑–≤–æ–ª—è–ª–æ –Ω–µ –≤—ã–±–∏—Ä–∞—Ç—å —Å—á—ë—Ç
    ForEach(transactionsViewModel.accounts) { account in
        Text(account.name).tag(account.id as String?)
    }
}
```

**–ü–æ—Å–ª–µ:**
```swift
Picker("–°—á—ë—Ç", selection: $selectedAccountId) {
    ForEach(transactionsViewModel.accounts) { account in
        Text(account.name).tag(account.id as String?)  // ‚úÖ –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞
    }
}
```

#### 2. –ü–µ—Ä–≤—ã–π —Å—á—ë—Ç –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `.onAppear`:**
```swift
} else {
    currency = transactionsViewModel.appSettings.baseCurrency
    if !availableCategories.isEmpty {
        selectedCategory = availableCategories[0]
    }
    // ‚ú® Set first account as default
    if !transactionsViewModel.accounts.isEmpty {
        selectedAccountId = transactionsViewModel.accounts[0].id
    }
}
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏:

**–ë—ã–ª–æ:**
- Picker –ø–æ–∫–∞–∑—ã–≤–∞–ª "–ë–µ–∑ —Å—á—ë—Ç–∞" –∫–∞–∫ –æ–ø—Ü–∏—é
- selectedAccountId –º–æ–≥ –±—ã—Ç—å `nil`
- –ú–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–µ–∑ –≤—ã–±–æ—Ä–∞ —Å—á—ë—Ç–∞

**–°—Ç–∞–ª–æ:**
- ‚úÖ Picker –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞**
- ‚úÖ –ü–µ—Ä–≤—ã–π —Å—á—ë—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞–Ω** –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–µ–∑ —Å—á—ë—Ç–∞ (guard –ø—Ä–æ–≤–µ—Ä–∫–∞)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –¢–µ—Å—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

1. –û—Ç–∫—Ä–æ–π Subscriptions ‚Üí "+"
2. –ü—Ä–æ–≤–µ—Ä—å Picker "–°—á—ë—Ç –æ–ø–ª–∞—Ç—ã"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–µ—Ä–≤—ã–π —Å—á—ë—Ç —É–∂–µ –≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ù–µ—Ç –æ–ø—Ü–∏–∏ "–ë–µ–∑ —Å—á—ë—Ç–∞"
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞

3. –ü–æ–ø—Ä–æ–±—É–π —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å (–Ω–µ –º–µ–Ω—è—è —Å—á—ë—Ç)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Å—á—ë—Ç–æ–º
- ‚úÖ AccountId != nil

---

## üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Ñ–æ—Ä–º–µ:

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

1. ‚úÖ **Description** (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏)
2. ‚úÖ **Amount** (—Å—É–º–º–∞)
3. ‚úÖ **Category** (–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
4. ‚úÖ **Account** (—Å—á—ë—Ç –æ–ø–ª–∞—Ç—ã) ‚Üê **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:
- Currency (default: base currency)
- Frequency (default: Monthly)
- Start Date (default: today)
- Brand Logo / Icon
- Reminder Offsets

---

**–ê–≤—Ç–æ—Ä**: Claude Sonnet 4.5
**–î–∞—Ç–∞**: 2026-02-09
**–°—Ç–∞—Ç—É—Å**: ‚úÖ COMPLETE
