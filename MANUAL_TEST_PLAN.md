# Manual Test Plan - iOS Finance Manager

## Цель тестирования
Убедиться, что после оптимизации приложение работает стабильно, без лагов и крашей.

## Критерии приёмки
- ✅ Нет лагов при открытии экранов
- ✅ Нет фризов при добавлении транзакций
- ✅ Нет крашей при любых действиях
- ✅ Все функции работают как раньше (UX не изменён)

---

## Test Cases

### 1. Запуск приложения
**Цель:** Проверить быструю загрузку без блокировки UI

- [ ] Запустить приложение в первый раз
- [ ] **Ожидаемый результат:** Главный экран открывается мгновенно (< 1 сек)
- [ ] Запустить приложение повторно (с данными)
- [ ] **Ожидаемый результат:** Загрузка данных не блокирует UI

**Критерий:** Нет задержек > 1 секунды

---

### 2. Быстрое добавление транзакции
**Цель:** Проверить производительность модалки добавления

- [ ] Открыть главный экран
- [ ] Нажать на любую категорию (например, "Продукты")
- [ ] **Ожидаемый результат:** Модалка открывается мгновенно
- [ ] Ввести сумму (например, "1234.56")
- [ ] Выбрать счёт
- [ ] Нажать "Сегодня"
- [ ] **Ожидаемый результат:** Транзакция добавлена, модалка закрылась

**Критерий:** Модалка открывается < 200ms, нет зависаний при вводе

---

### 3. Просмотр истории с большим количеством транзакций
**Цель:** Проверить производительность списка истории

- [ ] Добавить 50+ транзакций (или использовать существующие)
- [ ] Перейти в "History"
- [ ] **Ожидаемый результат:** История открывается мгновенно
- [ ] Скроллить список вверх/вниз
- [ ] **Ожидаемый результат:** Скролл плавный, без задержек
- [ ] Изменить фильтр времени (например, "Этот месяц" → "Всё время")
- [ ] **Ожидаемый результат:** Обновление < 500ms

**Критерий:** Плавный скролл, обновление фильтра < 500ms

---

### 4. Фильтрация по категориям
**Цель:** Проверить корректность фильтров

- [ ] Открыть "History"
- [ ] Нажать "Все категории"
- [ ] Выбрать 2-3 категории
- [ ] Нажать "Применить"
- [ ] **Ожидаемый результат:** Показаны только выбранные категории
- [ ] Сбросить фильтр (выбрать "Все категории")
- [ ] **Ожидаемый результат:** Показаны все транзакции

**Критерий:** Фильтр работает корректно, обновление < 300ms

---

### 5. Изменение временного фильтра
**Цель:** Проверить производительность смены фильтров

- [ ] Открыть главный экран
- [ ] Нажать на кнопку фильтра времени (вверху)
- [ ] Выбрать "Сегодня"
- [ ] **Ожидаемый результат:** Главный экран обновлён, показаны данные за сегодня
- [ ] Выбрать "Этот месяц"
- [ ] **Ожидаемый результат:** Обновление < 300ms
- [ ] Выбрать "Всё время"
- [ ] **Ожидаемый результат:** Показаны все данные

**Критерий:** Смена фильтра < 300ms

---

### 6. Periodic транзакции (recurring)
**Цель:** Проверить генерацию периодических операций

- [ ] Открыть быстрое добавление транзакции
- [ ] Включить "Сделать повторяющейся"
- [ ] Выбрать частоту "Ежемесячно"
- [ ] Добавить транзакцию
- [ ] **Ожидаемый результат:** Создана серия recurring транзакций
- [ ] Перейти в "History" → "Upcoming"
- [ ] **Ожидаемый результат:** Видны будущие транзакции (на 3 месяца вперёд)

**Критерий:** Генерация < 1 сек, видно только 3 месяца вперёд

---

### 7. Импорт CSV
**Цель:** Проверить импорт больших файлов без блокировки UI

- [ ] Подготовить CSV файл с 100+ строками
- [ ] Открыть Настройки → Импорт/Экспорт → Import CSV
- [ ] Выбрать файл
- [ ] **Ожидаемый результат:** Файл загружен, показан превью
- [ ] Промапить колонки
- [ ] Импортировать
- [ ] **Ожидаемый результат:** Импорт завершён, данные добавлены

**Критерий:** UI не блокируется, импорт завершается без ошибок

---

### 8. Анализ PDF выписки (AI)
**Цель:** Проверить работу AI анализа

- [ ] Открыть главный экран
- [ ] Нажать кнопку "Загрузить выписку" (иконка документа)
- [ ] Выбрать PDF файл выписки
- [ ] **Ожидаемый результат:** Показан индикатор загрузки
- [ ] Дождаться анализа
- [ ] **Ожидаемый результат:** Показаны распознанные транзакции
- [ ] Подтвердить или отредактировать
- [ ] Сохранить

**Критерий:** Анализ работает, нет крашей

---

### 9. Stress Test: 1000+ транзакций
**Цель:** Проверить производительность с большим объёмом данных

- [ ] Импортировать CSV с 1000+ транзакциями
- [ ] **Ожидаемый результат:** Импорт завершён < 5 сек
- [ ] Открыть главный экран
- [ ] **Ожидаемый результат:** Статистика отображается < 1 сек
- [ ] Открыть "History"
- [ ] **Ожидаемый результат:** Список загружается < 1 сек
- [ ] Скроллить список
- [ ] **Ожидаемый результат:** Скролл плавный
- [ ] Изменить фильтр времени
- [ ] **Ожидаемый результат:** Обновление < 1 сек

**Критерий:** Приложение работает без лагов даже с 1000+ транзакций

---

### 10. Регрессионный тест: все функции
**Цель:** Убедиться, что ничего не сломалось

- [ ] Добавить транзакцию расхода
- [ ] Добавить транзакцию дохода
- [ ] Добавить внутренний перевод между счетами
- [ ] Редактировать существующую транзакцию
- [ ] Удалить транзакцию
- [ ] Создать новую категорию
- [ ] Редактировать категорию
- [ ] Удалить категорию
- [ ] Создать новый счёт
- [ ] Редактировать счёт
- [ ] Удалить счёт
- [ ] Экспортировать данные в CSV
- [ ] Использовать голосовой ввод (если доступен)

**Критерий:** Все функции работают как раньше

---

## Критичные проверки после оптимизации

### ✅ Производительность
- [ ] Главный экран открывается < 1 сек
- [ ] Модалка добавления открывается < 200ms
- [ ] История с 100+ транзакциями загружается < 1 сек
- [ ] Фильтры применяются < 500ms
- [ ] Скролл плавный (60 FPS)

### ✅ Стабильность
- [ ] Нет крашей при любых действиях
- [ ] Нет предупреждений в консоли о force unwrap
- [ ] Нет блокировок main thread > 100ms

### ✅ UX не изменён
- [ ] Все экраны выглядят так же
- [ ] Все функции работают так же
- [ ] Данные сохраняются корректно

---

## Как запустить тесты

1. Открыть проект в Xcode
2. Выбрать симулятор (iPhone 14 или новее)
3. Запустить приложение (⌘R)
4. Пройти все Test Cases выше
5. Отметить выполненные пункты ✅

## Что делать при обнаружении проблем

1. Записать точные шаги воспроизведения
2. Сделать скриншот/видео если возможно
3. Проверить консоль Xcode на ошибки
4. Создать Issue на GitHub с описанием проблемы
